#!/bin/bash
set -u

readonly NAMESPACE=hadoop-sandbox

kubectl get namespace ${NAMESPACE} &> /dev/null

if [ $? -eq 0 ]; then
  kubectl delete --kustomize=kubernetes --now
  kubectl wait namespace/${NAMESPACE} --for=delete --timeout=600s 2> /dev/null
  echo "Cleaned up all resources."
else
  echo "namespace/${NAMESPACE} is not found."
fi
